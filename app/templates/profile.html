{% extends 'base.html' %}

{% block content %}
<h2>User Profile - {{ user.email }}</h2>
<form method="post">
    {{ form.hidden_tag() }}
    {% if form.current_password %}
    <div class="form-group">
        {{ form.current_password.label(class_='form-label') }}
        {{ form.current_password(class_='form-control') }}
    </div>
    {% endif %}
    <div class="form-group">
        {{ form.new_password.label(class_='form-label') }}
        {{ form.new_password(class_='form-control') }}
    </div>
    <div class="form-group">
        {{ form.confirm_password.label(class_='form-label') }}
        {{ form.confirm_password(class_='form-control') }}
    </div>
    <button type="submit" class="btn btn-primary mt-2">{{ form.submit.label.text }}</button>
</form>
<form method="post" class="mt-3">
    {{ tz_form.hidden_tag() }}
    <div class="form-group">
        {{ tz_form.timezone.label(class_='form-label') }}
        {{ tz_form.timezone(class_='form-control') }}
    </div>
    <button type="submit" class="btn btn-primary mt-2">{{ tz_form.submit.label.text }}</button>
</form>
<hr>
<h3>Transfers</h3>
<ul>
    {% for t in transfers %}
    <li><a href="{{ url_for('transfer.view_transfer', transfer_id=t.id) }}">{{ t.id }}</a></li>
    {% else %}
    <li>No transfers found.</li>
    {% endfor %}
</ul>
<h3>Invoices</h3>
<ul>
    {% for inv in invoices %}
    <li><a href="{{ url_for('invoice.view_invoice', invoice_id=inv.id) }}">{{ inv.id }}</a></li>
    {% else %}
    <li>No invoices found.</li>
    {% endfor %}
</ul>
{% endblock %}
