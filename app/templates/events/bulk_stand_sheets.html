{% extends 'base.html' %}
{% block content %}
<h2>{{ event.name }} - Stand Sheets</h2>
<style>
@media print {
  @page {
    size: landscape;
  }

  nav,
  .navbar,
  .navbar-nav,
  .navbar-toggler,
  .offcanvas,
  .alert,
  h2 {
    display: none !important;
  }

  body,
  .container {
    margin: 0;
    padding: 0;
    max-width: 100%;
    width: 100%;
  }

  .table-responsive {
    overflow: visible !important;
  }

  table {
    width: 100% !important;
  }

  .standsheet-page {
    page-break-after: always;
  }

  .standsheet-page:last-child {
    page-break-after: auto;
  }
}
</style>
{% for entry in data %}
<div class="standsheet-page">
    <h3>{{ entry.location.name }}</h3>
    <img src="data:image/png;base64,{{ entry.qr }}" alt="QR Code" class="mb-2"/>
    <div class="mb-3">
        <div>Location: {{ entry.location.name }}</div>
        <div>Event: {{ event.name }}</div>
        <div>Event Date/Time: {{ event.start_date }}</div>
    </div>
    <div class="table-responsive">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Item</th>
                <th>Expected Opening</th>
                <th>Opening Count</th>
                <th>Transferred In</th>
                <th>Transferred Out</th>
                <th>Eaten</th>
                <th>Spoiled</th>
                <th>Closing Count</th>
                <th>Variance</th>
            </tr>
        </thead>
        <tbody>
        {% for s in entry.stand_items %}
            <tr>
                <td>{{ s.item.name }}</td>
                <td>{{ s.expected }}</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
</div>
{% endfor %}
{% endblock %}
