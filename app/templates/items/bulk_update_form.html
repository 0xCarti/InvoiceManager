<form method="post">
    {{ form.hidden_tag() }}
    {{ form.selected_ids }}
    {% if form.form_errors %}
    <div class="alert alert-danger">
        <ul class="mb-0">
            {% for error in form.form_errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    <div class="row align-items-center mb-3">
        <div class="col-md-3">
            <div class="form-check form-switch">
                {{ form.apply_name(class_='form-check-input', id='bulk-item-apply-name', **{'data-toggle-target': '#bulk-item-name'}) }}
                <label class="form-check-label" for="bulk-item-apply-name">Update Name</label>
            </div>
        </div>
        <div class="col-md-9">
            <label class="form-label" for="bulk-item-name">Name</label>
            {{ form.name(class_='form-control' + (' is-invalid' if form.name.errors else ''), id='bulk-item-name') }}
            {% for error in form.name.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
        </div>
    </div>
    <div class="row align-items-center mb-3">
        <div class="col-md-3">
            <div class="form-check form-switch">
                {{ form.apply_base_unit(class_='form-check-input', id='bulk-item-apply-base', **{'data-toggle-target': '#bulk-item-base'}) }}
                <label class="form-check-label" for="bulk-item-apply-base">Update Base Unit</label>
            </div>
        </div>
        <div class="col-md-9">
            <label class="form-label" for="bulk-item-base">Base Unit</label>
            {{ form.base_unit(class_='form-select', id='bulk-item-base') }}
        </div>
    </div>
    <div class="row align-items-center mb-3">
        <div class="col-md-3">
            <div class="form-check form-switch">
                {{ form.apply_gl_code_id(class_='form-check-input', id='bulk-item-apply-inventory-gl', **{'data-toggle-target': '#bulk-item-inventory-gl'}) }}
                <label class="form-check-label" for="bulk-item-apply-inventory-gl">Update Inventory GL</label>
            </div>
        </div>
        <div class="col-md-9">
            <label class="form-label" for="bulk-item-inventory-gl">Inventory GL Code</label>
            {{ form.gl_code_id(class_='form-select' + (' is-invalid' if form.gl_code_id.errors else ''), id='bulk-item-inventory-gl') }}
            {% for error in form.gl_code_id.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
        </div>
    </div>
    <div class="row align-items-center mb-3">
        <div class="col-md-3">
            <div class="form-check form-switch">
                {{ form.apply_purchase_gl_code_id(class_='form-check-input', id='bulk-item-apply-purchase-gl', **{'data-toggle-target': '#bulk-item-purchase-gl'}) }}
                <label class="form-check-label" for="bulk-item-apply-purchase-gl">Update Purchase GL</label>
            </div>
        </div>
        <div class="col-md-9">
            <label class="form-label" for="bulk-item-purchase-gl">Purchase GL Code</label>
            {{ form.purchase_gl_code_id(class_='form-select' + (' is-invalid' if form.purchase_gl_code_id.errors else ''), id='bulk-item-purchase-gl') }}
            {% for error in form.purchase_gl_code_id.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
        </div>
    </div>
    <div class="row align-items-center mb-3">
        <div class="col-md-3">
            <div class="form-check form-switch">
                {{ form.apply_archived(class_='form-check-input', id='bulk-item-apply-archived', **{'data-toggle-target': '#bulk-item-archived'}) }}
                <label class="form-check-label" for="bulk-item-apply-archived">Update Archived</label>
            </div>
        </div>
        <div class="col-md-9">
            <div class="form-check">
                {{ form.archived(class_='form-check-input', id='bulk-item-archived') }}
                <label class="form-check-label" for="bulk-item-archived">Archived</label>
            </div>
        </div>
    </div>
    <div class="text-end">
        {{ form.submit(class_='btn btn-primary') }}
    </div>
</form>
<script nonce="{{ csp_nonce }}">
(function() {
    const form = document.currentScript.previousElementSibling && document.currentScript.previousElementSibling.tagName === 'FORM'
        ? document.currentScript.previousElementSibling
        : document.currentScript.closest('form');
    if (!form) {
        return;
    }
    form.querySelectorAll('[data-toggle-target]').forEach(function(toggle) {
        const targetSelector = toggle.getAttribute('data-toggle-target');
        if (!targetSelector) {
            return;
        }
        const field = form.querySelector(targetSelector);
        if (!field) {
            return;
        }
        field.disabled = !toggle.checked;
        toggle.addEventListener('change', function() {
            field.disabled = !toggle.checked;
        });
    });
})();
</script>
